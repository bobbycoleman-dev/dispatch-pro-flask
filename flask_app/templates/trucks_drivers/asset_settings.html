{% extends '/shared/base.html' %} {% block content %} {% include '/shared/navbar.html' %}

<div class="container overflow-scroll pt-5 ps-5" style="height: 100vh">
	<h3 class="text-end mb-2 text-success">Vehicle & Driver Settings</h3>
	<h4 class="text-end mb-5">{{current_user.user_dc.nickname}}</h4>
	<div class="row mb-3">
		<div class="card shadow p-0 w-75 mx-auto" style="height: 300px">
			<div class="card-header">All Trucks</div>
			<div class="card-body overflow-y-scroll">
				<table class="table table-dark table-hover text-center">
					<thead>
						<tr>
							<th>Number</th>
							<th>Make</th>
							<th>Model</th>
							<th>Year</th>
							<th>Vin</th>
							<th>Driver</th>
							<th>Location</th>
						</tr>
					</thead>
					<tbody class="table-group-divider">
						{% for truck in trucks %}
						<tr>
							<td>{{truck.number}}</td>
							<td>{{truck.make}}</td>
							<td>{{truck.model}}</td>
							<td>{{truck.year}}</td>
							<td>{{truck.vin}}</td>
							<td>{{truck.truck_driver.first_name}}</td>
							<td>{{truck.truck_dc.nickname}}</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="row mb-3">
		<div class="card shadow p-0 w-75 mx-auto" style="height: 300px">
			<div class="card-header">All Drivers</div>
			<div class="card-body overflow-y-scroll">
				<table class="table table-dark table-hover text-center">
					<thead>
						<tr>
							<th>First Name</th>
							<th>Last Name</th>
							<th>License</th>
							<th>License Exp.</th>
							<th>DOT Exp.</th>
							<th>Location</th>
						</tr>
					</thead>
					<tbody class="table-group-divider">
						{% for driver in drivers %}
						<tr>
							<td>{{driver.first_name}}</td>
							<td>{{driver.last_name}}</td>
							<td>{{driver.license_type}}</td>
							<td>{{driver.license_exp}}</td>
							<td>{{driver.dot_exp}}</td>
							<td>{{driver.driver_dc.nickname}}</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<div class="mt-5 mb-3 text-center text-warning">
		Please create Drivers before creating Trucks. Trucks must have assigned Drivers.
	</div>

	<div class="row mb-3">
		<div class="col">
			<div class="card shadow">
				<div class="card-header">Add Driver</div>
				<div class="card-body">{% include '/trucks_drivers/add_driver.html' %}</div>
			</div>
		</div>
		<div class="col">
			<div class="card shadow">
				<div class="card-header">Add Truck</div>
				<div class="card-body">{% include '/trucks_drivers/add_truck.html' %}</div>
			</div>
		</div>
	</div>
</div>

{% endblock content %}
